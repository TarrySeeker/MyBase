# –ó–∞–ø—Ä–æ—Å –Ω–∞ Code Review: E-commerce Admin Panel

## 1. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–ß—Ç–æ –ø—Ä–æ—Å–∏–ª –∫–ª–∏–µ–Ω—Ç)

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å "–∫–æ—Ä–æ–±–æ—á–Ω–æ–µ" —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞–º –≤–µ–±-—Å—Ç—É–¥–∏–∏ GreenBox.
**–†–µ—Ñ–µ—Ä–µ–Ω—Å –¥–∏–∑–∞–π–Ω–∞:** –°–∞–π—Ç —Å—Ç—É–¥–∏–∏ `greenboxweb.ru` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–∞, —à—Ä–∏—Ñ—Ç—ã, —Å—Ç–∏–ª–∏—Å—Ç–∏–∫—É).

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
1.  **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
    -   Frontend: Next.js (App Router), React, TypeScript.
    -   Backend/DB: Supabase (PostgreSQL).
    -   **Multi-tenancy**: –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç Supabase. –ê–¥–º–∏–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
    -   –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `myBase`.

2.  **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª MVP:**
    -   –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ (CRUD, —Ñ–æ—Ç–æ, —Ü–µ–Ω—ã, SEO-–ø–æ–ª—è).
    -   –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ (—Å—Ç–∞—Ç—É—Å—ã, —Å–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞, –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞).
    -   –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ (—Å —Å–∞–π—Ç–∞).
    -   CMS: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Ç–µ–∫—Å—Ç–æ–≤ –∏ –∞–∫—Ü–∏–π –Ω–∞ —Å–∞–π—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞.
    -   –ü—Ä–æ–º–æ–∫–æ–¥—ã.
    -   –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–≤ –±—É–¥—É—â–µ–º): –í–ö, –ú–æ–π–°–∫–ª–∞–¥, 1–°, Excel (—ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç).
    -   –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –ø–æ—á—Ç—É –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö.

3.  **–î–∏–∑–∞–π–Ω:**
    -   –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–π —Å—Ç–∏–ª—å.
    -   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏—Ä–º–µ–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ GreenBox (`#00C853` - –∑–µ–ª–µ–Ω—ã–π, —Ç–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞).

4.  **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
    -   –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Supabase.

---

## 2. –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ (–û—Ç—á–µ—Ç –æ —Ä–∞–±–æ—Ç–µ)

### üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Setup)
1.  **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
    -   –†–∞–∑–≤–µ—Ä–Ω—É—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞ **Next.js 16.1.6** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Turbopack.
    -   –ù–∞—Å—Ç—Ä–æ–µ–Ω **TypeScript** –∏ **ESLint**.
    -   –ü–æ–¥–∫–ª—é—á–µ–Ω **Tailwind CSS v4** (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å `@theme`).
2.  **UI –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏**:
    -   –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `lucide-react` –¥–ª—è –∏–∫–æ–Ω–æ–∫.
    -   –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ **Shadcn UI**
    -   `components.json`: Shadcn UI configuration.

### ‚úÖ –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ä–µ–≤—å—é)
-   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `client.ts` –∏ `server.ts`.
-   **–ë–î**: –í `schema.sql` –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã (category, status, dates), —Ç—Ä–∏–≥–≥–µ—Ä—ã `updated_at`, –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ `CHECK` (—Ü–µ–Ω–∞ >= 0).
-   **Middleware**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `middleware.ts` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏.
-   **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –û–±–Ω–æ–≤–ª–µ–Ω `SUPABASE_SETUP.md` (–¥–æ–±–∞–≤–ª–µ–Ω promo_codes, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏), –¥–æ–±–∞–≤–ª–µ–Ω `.env.example`.
-   **UI**: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `page.tsx` –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∏–∑–∞–π–Ω-—Ç–æ–∫–µ–Ω–æ–≤.

**Next Steps:**
-   Implement Authentication (Login page).
    -   –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–µ–º–∏–∑–∞—Ü–∏—è (`next-themes`) –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –°–≤–µ—Ç–ª–∞—è/–¢–µ–º–Ω–∞—è —Ç–µ–º–∞.
3.  **–î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ (GreenBox Style)**:
    -   –ò–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –º–∞–∫–µ—Ç–∞ (`Maket`) –∏–∑–≤–ª–µ—á–µ–Ω—ã –¥–∏–∑–∞–π–Ω-—Ç–æ–∫–µ–Ω—ã.
    -   –í `globals.css` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
        -   **Colors**: Primary (`#00C853`), Background Light (`#FAFBFC`), Background Dark (`#0A0A14`).
        -   **Fonts**: –ü–æ–¥–∫–ª—é—á–µ–Ω—ã `Inter` (–æ—Å–Ω–æ–≤–Ω–æ–π) –∏ `Space Grotesk` (–¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤) —á–µ—Ä–µ–∑ `next/font/google`.

### üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase)
1.  **–°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö (`schema.sql`)**:
    –ù–∞–ø–∏—Å–∞–Ω SQL-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î:
    -   `products`: –¢–æ–≤–∞—Ä—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –æ–ø–∏—Å–∞–Ω–∏–µ, SEO, –º–∞—Å—Å–∏–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π).
    -   `orders`: –ó–∞–∫–∞–∑—ã (–∫–ª–∏–µ–Ω—Ç, —Å–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞ JSONB, —Å—Ç–∞—Ç—É—Å, —Å—É–º–º–∞).
    -   `applications`: –ó–∞—è–≤–∫–∏ —Å —Ñ–æ—Ä–º (–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, —Ç–∏–ø–∞ –∑–∞—è–≤–∫–∏).
    -   `cms_content`: –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–∞–π—Ç–∞ (Key-Value —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤/—Ç–µ–∫—Å—Ç–æ–≤).
    -   `promo_codes`: –°–∏—Å—Ç–µ–º–∞ —Å–∫–∏–¥–æ–∫ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞ –∏–ª–∏ %).
2.  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (RLS)**:
    -   –í–∫–ª—é—á–µ–Ω Row Level Security –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü.
    -   –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (Public read –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤, Authenticated write –¥–ª—è –∞–¥–º–∏–Ω–æ–≤).
3.  **Storage**:
    -   –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç –±–∞–∫–µ—Ç—ã `products` –∏ `content` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

### üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
1.  **`SUPABASE_SETUP.md`**:
    -   –ù–∞–ø–∏—Å–∞–Ω–∞ –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤.
    -   –û–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Supabase, –≥–¥–µ –≤–∑—è—Ç—å –∫–ª—é—á–∏ –∏ –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å SQL-—Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏.
2.  **`implementation_plan.md`**:
    -   –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å —ç—Ç–∞–ø–∞–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
-   –°–æ–∑–¥–∞–Ω—ã —É—Ç–∏–ª–∏—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase:
    -   `src/utils/supabase/client.ts` (–¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤).
    -   `src/utils/supabase/server.ts` (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ API).
-   –ù–∞—Å—Ç—Ä–æ–µ–Ω `.env.local` —à–∞–±–ª–æ–Ω.

---

## 3. —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
-   `src/app/globals.css`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤ Tailwind v4.
-   `schema.sql`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü –∏ —Å–≤—è–∑–µ–π.
-   `SUPABASE_SETUP.md`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.
-   `src/app/layout.tsx`: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ –∏ —Ç–µ–º.
