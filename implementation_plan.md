# План реализации: Кастомная админ-панель для интернет-магазина

## Описание цели
Создание масштабируемой ("white-label") админ-панели для интернет-магазинов на Next.js и Supabase. Система позволит владельцам магазинов управлять товарами, заказами и контентом сайта (CMS). Дизайн должен отражать премиальную эстетику `greenboxweb.ru`.

## Требуется проверка пользователем
> [!IMPORTANT]
> **Стратегия Supabase**: Каждый клиент получает свой собственный проект Supabase. Нам нужно обеспечить простоту процесса подключения (через переменные окружения).

> [!NOTE]
> **Источник дизайна**: Дизайн основан на предоставленном исходном коде из папки `Maket`.

## Предлагаемая архитектура

### Технологический стек
- **Фреймворк**: Next.js 14+ (App Router)
- **Язык**: TypeScript
- **Стилизация**: Tailwind CSS + Shadcn UI
    - **Шрифты**: `Inter` (Основной), `Space Grotesk` (Заголовки)
    - **Цвета**:
        - Основной: `#00C853` (Светлый) / `#00E676` (Темный)
        - Фон: `#FAFBFC` (Светлый) / `#0A0A14` (Темный)
        - Поверхность: `#FFFFFF` (Светлый) / `#1A1A2E` (Темный)
- **База данных**: Supabase (PostgreSQL)
- **Аутентификация**: Supabase Auth
- **Управление состоянием**: React Query

### Схема базы данных (Черновик)

#### `products` (Товары)
- `id`: uuid
- `title`: text (название)
- `price`: numeric (цена)
- `description`: text (описание)
- `images`: text[] (пути к файлам)
- `seo_title`: text
- `seo_description`: text
- `category_id`: uuid

#### `orders` (Заказы)
- `id`: uuid
- `status`: text (новый, в обработке, завершен, отменен)
- `customer_info`: jsonb (инфо о клиенте)
- `items`: jsonb (товары)
- `total`: numeric (сумма)
- `created_at`: timestamp

#### `cms_content` (Контент CMS)
- `key`: text (уникальный идентификатор блока, например, 'home_hero')
- `content`: jsonb (заголовки, текст, ссылки на изображения)

#### `promo_codes` (Промокоды)
- `code`: text
- `discount_type`: text (фикс/процент)
- `value`: numeric (значение)
- `is_active`: boolean

#### `applications` (Заявки - Новое)
- `id`: uuid
- `created_at`: timestamp
- `status`: text (новая, в обработке, архив)
- `fio`: text (ФИО)
- `phone`: text (телефон)
- `cdek_contract`: text (договор СДЭК)
- `business_info`: jsonb (сфера, продукты, текущий сайт)
- `project_details`: jsonb (цели, задачи, тип решения, кол-во товаров)
- `design_preferences`: jsonb (дизайн, выбор макета)

## Этапы реализации

### 1. Настройка
- Инициализация проекта Next.js.
- Установка `lucide-react` для иконок.
- Настройка клиента Supabase.

### 2. Компоненты
- `Sidebar`: Навигация.
- `DataTable`: Переиспользуемая таблица для Товаров/Заказов.
- `ImageUpload`: Загрузчик Drag & drop для Supabase Storage.

### 3. Функционал
- **Dashboard**: Обзор новых заказов.
- **Каталог**: CRUD (создание, чтение, обновление, удаление) для товаров.
- **CMS**: Редактирование разделов сайта через формы.

## План проверки
### Автоматизированные тесты
- Проверка сборки: `npm run build`
- Линтинг: `npm run lint`

### Ручная проверка
- Деплой на тестовый инстанс Netlify/Vercel.
- Подключение к тестовому проекту Supabase.
- Создание товара, оформление заказа и проверка сохранения данных.
